<!DOCTYPE html>
<html>
<head>
  <title>DR Event Countdown</title>
  <meta charset="UTF-8">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>
  <style>
    body {
      margin: 0;
      padding: 20px;
      background: transparent;
      font-family: 'Open Sans', Arial, sans-serif;
      display: flex;
      justify-content: center;
      gap: 20px;
    }
    .countdown-box {
      background: #f9f9f9;
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 15px;
      text-align: center;
      width: 220px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }
    .title {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 6px;
    }
    .time-label {
      font-size: 14px;
      color: #555;
      margin-bottom: 8px;
    }
    .status-text {
      font-size: 14px;
      margin-top: 8px;
      font-weight: bold;
      text-transform: uppercase;
    }
    .timer {
      display: flex;
      justify-content: center;
      gap: 4px;
    }
    .digit {
      font-size: 22px;
      color: #fff;
      padding: 4px 10px;
      border-radius: 5px;
      min-width: 36px;
    }
    .digit.default {
      background: linear-gradient(to bottom, #444, #111);
    }
    .digit.active {
      background: linear-gradient(to bottom, #f5d76e, #f39c12); /* Yellowish */
    }
    .digit.seconds {
      background: linear-gradient(to bottom, #eee, #ccc) !important;
      color: #333 !important;
    }
    .separator {
      font-size: 22px;
      color: #ccc;
      padding: 0 2px;
    }
  </style>
</head>
<body>

  <div class="countdown-box">
    <div class="title">ðŸ“£ Standby Notice</div>
    <div class="time-label">June 29, 6:00 PM</div>
    <div id="standby-timer" class="timer"></div>
    <div id="standby-status" class="status-text"></div>
  </div>

  <div class="countdown-box">
    <div class="title">ðŸ“£ Activation Notice</div>
    <div class="time-label">June 30, 9:00 AM</div>
    <div id="activation-timer" class="timer"></div>
    <div id="activation-status" class="status-text"></div>
  </div>

  <div class="countdown-box">
    <div class="title">âš¡ Activation Event</div>
    <div class="time-label">June 30, 6:00 PM â€“ 10:00 PM</div>
    <div id="event-timer" class="timer"></div>
    <div id="event-status" class="status-text"></div>
  </div>

  <script>
    const abuDhabiOffset = 4 * 60;

    function getAbuDhabiNow() {
      const now = new Date();
      const utc = now.getTime() + now.getTimezoneOffset() * 60000;
      return new Date(utc + abuDhabiOffset * 60000);
    }

    function getCountdownParts(diffMs) {
      const totalSeconds = Math.max(0, Math.floor(diffMs / 1000));
      const hours = Math.floor(totalSeconds / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;
      return {
        h: hours.toString().padStart(2, '0'),
        m: minutes.toString().padStart(2, '0'),
        s: seconds.toString().padStart(2, '0')
      };
    }

    function renderTimer(containerId, parts, isActive) {
      const digitClass = isActive ? 'digit active' : 'digit default';
      document.getElementById(containerId).innerHTML = `
        <div class="${digitClass}">${parts.h}</div>
        <div class="separator">:</div>
        <div class="${digitClass}">${parts.m}</div>
        <div class="separator">:</div>
        <div class="digit seconds">${parts.s}</div>
      `;
    }

    function updateCountdowns() {
      const now = getAbuDhabiNow();

      const standbyTime = new Date("2025-06-29T18:00:00+04:00");
      const activationTime = new Date("2025-06-30T09:00:00+04:00");
      const eventStart = new Date("2025-06-30T18:00:00+04:00");
      const eventEnd = new Date("2025-06-30T22:00:00+04:00");

      const times = [
        { id: 'standby', label: 'Standby Notice', time: standbyTime, past: now >= standbyTime },
        { id: 'activation', label: 'Activation Notice', time: activationTime, past: now >= activationTime },
        { id: 'event', label: 'Activation Event', start: eventStart, end: eventEnd }
      ];

      // Determine which is the next upcoming
      const futureEvents = times
        .filter(t => t.time && now < t.time)
        .sort((a, b) => a.time - b.time);
      const nextUpcomingId = futureEvents.length ? futureEvents[0].id : null;

      // Render standby
      const sbParts = getCountdownParts(standbyTime - now);
      renderTimer("standby-timer", sbParts, nextUpcomingId === 'standby');
      document.getElementById("standby-status").textContent = now >= standbyTime ? "PAST" : "Starting in";

      // Render activation
      const actParts = getCountdownParts(activationTime - now);
      renderTimer("activation-timer", actParts, nextUpcomingId === 'activation');
      document.getElementById("activation-status").textContent = now >= activationTime ? "PAST" : "Starting in";

      // Render event
      let eventStatus = "";
      let eventParts;
      if (now < eventStart) {
        eventParts = getCountdownParts(eventStart - now);
        eventStatus = "Starting in";
      } else if (now >= eventStart && now < eventEnd) {
        eventParts = getCountdownParts(eventEnd - now);
        eventStatus = "Ending in";
      } else {
        eventParts = getCountdownParts(0);
        eventStatus = "ENDED";
      }
      renderTimer("event-timer", eventParts, nextUpcomingId === 'event');
      document.getElementById("event-status").textContent = eventStatus;
    }

    setInterval(updateCountdowns, 1000);
    updateCountdowns();
  </script>
</body>
</html>
